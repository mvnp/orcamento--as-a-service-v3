(self.webpackChunkmaterial_dashboard_pro_angular=self.webpackChunkmaterial_dashboard_pro_angular||[]).push([[181],{3181:function(t,n,o){"use strict";o.r(n),o.d(n,{CronogramaModule:function(){return U}});var r=o(31041),i=o(61116),e=o(29996),a=o(38832),c=o(22551),u=o(20136),p=o(529),s=o(93820),g=o(42693),m=function(){function t(t){this.httpClient=t,this.urlPanel=p.N.productionUrl}return t.prototype.getCronograma=function(t){return this.httpClient.get(this.urlPanel+"/cronograma/"+t)},t.prototype.setCurrentMonthPayment=function(t,n){return this.httpClient.put(this.urlPanel+"/payment/"+t,{amount:n})},t.prototype.setCurrentMonthReturnPayment=function(t){return this.httpClient.put(this.urlPanel+"/payment/"+t,{amount:0})},t.\u0275fac=function(n){return new(n||t)(s.LFG(g.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),d=o(29609),Z=o(40334),h=o(13070),l=o(13841),f=o(87064),_=o(84369);function A(t,n){if(1&t&&(s.TgZ(0,"mat-option",30),s._uU(1),s.qZA()),2&t){var o=n.$implicit;s.xp6(1),s.Oqu(o)}}function T(t,n){if(1&t&&(s.TgZ(0,"th",31),s.TgZ(1,"span"),s._uU(2),s.ALo(3,"uppercase"),s.qZA(),s.qZA()),2&t){var o=n.$implicit;s.Gre("text-right column-hide-",n.index,""),s.xp6(2),s.Oqu(s.lcZ(3,4,o))}}function q(t,n){if(1&t){var o=s.EpF();s.TgZ(0,"a",38),s.TgZ(1,"span"),s.TgZ(2,"button",39),s.NdJ("click",function(){s.CHM(o);var t=s.oxw().$implicit,n=s.oxw().$implicit;return s.oxw(2).currentMonthPayment(t.id,n._sub_amount)}),s._uU(3,"$"),s.qZA(),s.qZA(),s.TgZ(4,"span"),s.TgZ(5,"strong",34),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.qZA(),s.qZA()}if(2&t){var r=s.oxw().$implicit,i=s.oxw().$implicit;s.xp6(2),s.Q6J("disabled",i._total_task!=r.amount),s.xp6(3),s.s9C("value",r.id),s.xp6(1),s.Oqu(s.Dn7(7,3,r.amount,"BRL",""))}}function b(t,n){if(1&t){var o=s.EpF();s.TgZ(0,"a",38),s.TgZ(1,"span"),s.TgZ(2,"button",40),s.NdJ("click",function(){s.CHM(o);var t=s.oxw().$implicit;return s.oxw(3).currentMonthReturn(t.id)}),s._uU(3,"$"),s.qZA(),s.qZA(),s.TgZ(4,"span"),s.TgZ(5,"strong",34),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.qZA(),s.qZA()}if(2&t){var r=s.oxw().$implicit;s.xp6(5),s.s9C("value",r.id),s.xp6(1),s.Oqu(s.Dn7(7,2,r.amount,"BRL",""))}}function v(t,n){if(1&t&&(s.TgZ(0,"td"),s.YNc(1,q,8,7,"a",37),s.YNc(2,b,8,6,"a",37),s.qZA()),2&t){var o=n.$implicit;s.Gre("text-right colunm-",n.index,""),s.xp6(1),s.Q6J("ngIf","0"==o.amount),s.xp6(1),s.Q6J("ngIf",o.amount>"0")}}function x(t,n){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td",34),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.qZA(),s._UZ(4,"td",24),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.YNc(8,v,3,5,"td",35),s.TgZ(9,"td"),s.TgZ(10,"button",36),s._uU(11,"$"),s.qZA(),s._uU(12),s.ALo(13,"currency"),s.qZA(),s.qZA()),2&t){var o=n.$implicit;s.xp6(1),s.s9C("value",o.id),s.xp6(2),s.Oqu(o.description),s.xp6(3),s.Oqu(s.Dn7(7,6,o._sub_amount,"BRL","")),s.xp6(2),s.Q6J("ngForOf",o.registros),s.xp6(2),s.Q6J("disabled",!0),s.xp6(2),s.hij(" ",s.Dn7(13,10,o._total_task,"BRL","")," ")}}function O(t,n){if(1&t&&(s.TgZ(0,"tbody"),s.TgZ(1,"tr"),s.TgZ(2,"td",32),s.TgZ(3,"strong",27),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"td",33),s.TgZ(6,"strong",27),s._uU(7),s.qZA(),s.qZA(),s.TgZ(8,"td",34),s.TgZ(9,"strong",27),s._uU(10),s.ALo(11,"currency"),s.qZA(),s.qZA(),s.qZA(),s.YNc(12,x,14,14,"tr",25),s.qZA()),2&t){var o=n.$implicit;s.xp6(2),s.s9C("value",o.id),s.xp6(2),s.Oqu(o.description),s.xp6(1),s.s9C("value",o.id),s.xp6(2),s.hij("",o.percent,"%"),s.xp6(1),s.s9C("value",o.id),s.xp6(2),s.Oqu(s.Dn7(11,7,o._super_amount,"BRL","")),s.xp6(2),s.Q6J("ngForOf",o.categorias)}}function y(t,n){if(1&t&&(s.TgZ(0,"th",41),s._uU(1),s.ALo(2,"currency"),s.qZA()),2&t){var o=n.$implicit;s.xp6(1),s.Oqu(s.Dn7(2,1,o,"BRL",""))}}var C=function(){function t(t,n,o){this.route=t,this._cronogramaService=n,this._spinner=o,this.projectCronograma=[],this.projectMonths=[],this.sumOfMonthInYear=[],this.cronogramaLoaded=!0,console.log("hello cronograma")}return t.prototype.ngOnInit=function(){this.id=this.route.snapshot.paramMap.get("id"),this.project_id=Number(this.id),this.getCronograma(this.id),d.locale("pt-br")},t.prototype.getCronograma=function(t){var n=this;this._spinner.show(),this._cronogramaService.getCronograma(t).subscribe(function(t){console.log(t.data);var o=t.data;n.sumOfMonthInYear=o._year_sum,n.projectCronograma=o._object,o._duration.forEach(function(t,o){n.projectMonths[o]=d(t).format("MMM YYYY")}),n.cronogramaLoaded=!1,n._spinner.hide()},function(t){console.log(t),n._spinner.hide()})},t.prototype.currentMonthPayment=function(t,n){var o=this;this._spinner.show(),this._cronogramaService.setCurrentMonthPayment(t,n).subscribe(function(t){o.getCronograma(o.project_id),setTimeout(function(){o._spinner.hide()},3e3)},function(t){console.log(t),o._spinner.hide()})},t.prototype.currentMonthReturn=function(t){var n=this;this._spinner.show(),this._cronogramaService.setCurrentMonthReturnPayment(t).subscribe(function(t){n.getCronograma(n.project_id),setTimeout(function(){n._spinner.hide()},3e3)},function(t){console.log(t),n._spinner.hide()})},t.prototype.changeVisibilityOfColumn=function(t){console.log(t)},t.prototype.firstDayOfMonth=function(){return d().startOf("month").format("DD-MM-YYYY")},t.prototype.lastDayOfMonth=function(){return d().endOf("month").format("DD-MM-YYYY")},t.\u0275fac=function(n){return new(n||t)(s.Y36(e.gz),s.Y36(m),s.Y36(Z.t2))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-cronograma"]],decls:61,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body","table-structure"],[1,"row","mb-3"],[1,"col-8"],[1,"col-2"],["appearance","outline"],["value","_time",4,"ngFor","ngForOf"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"table-responsive"],[1,"mat-elevation-z0","table"],[1,"bg-success","text-white"],["width","305"],["width","135",3,"class",4,"ngFor","ngForOf"],[1,"text-right"],[4,"ngFor","ngForOf"],["colspan","16"],[1,"fontWeight700"],[1,"fontWeight700","text-success"],["class","text-right","width","115",4,"ngFor","ngForOf"],["value","_time"],["width","135"],["width","305",3,"value"],[1,"text-right",3,"value"],[3,"value"],[3,"class",4,"ngFor","ngForOf"],["href","javascript:void(0);","mat-raised-button","",1,"btn","btn-info","btn-sm","btn-payment",3,"disabled"],["href","javascript:void(0)","class","d-flex",4,"ngIf"],["href","javascript:void(0)",1,"d-flex"],["mat-raised-button","",1,"btn","btn-success","btn-sm","btn-payment",3,"disabled","click"],["mat-raised-button","",1,"btn","btn-danger","btn-sm","btn-payment",3,"click"],["width","115",1,"text-right"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"i",7),s._uU(8,"assignment"),s.qZA(),s.qZA(),s.TgZ(9,"h4",8),s._uU(10,"Cronograma"),s.qZA(),s.qZA(),s.TgZ(11,"div",9),s.TgZ(12,"div",10),s._UZ(13,"div",11),s.TgZ(14,"div",12),s.TgZ(15,"label"),s._uU(16,"Escolha o m\xeas"),s.qZA(),s.TgZ(17,"mat-form-field",13),s.TgZ(18,"mat-select"),s.YNc(19,A,2,1,"mat-option",14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",12),s.TgZ(21,"label"),s._uU(22,"Escolha a porcentagem"),s.qZA(),s.TgZ(23,"mat-form-field",13),s.TgZ(24,"mat-select"),s.TgZ(25,"mat-option",15),s._uU(26,"10%"),s.qZA(),s.TgZ(27,"mat-option",16),s._uU(28,"25%"),s.qZA(),s.TgZ(29,"mat-option",17),s._uU(30,"50%"),s.qZA(),s.TgZ(31,"mat-option",18),s._uU(32,"100%"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(33,"div",19),s.TgZ(34,"table",20),s.TgZ(35,"thead",21),s.TgZ(36,"th",22),s._uU(37,"Categorias"),s.qZA(),s.TgZ(38,"th"),s._uU(39,"Pagamento"),s.qZA(),s.TgZ(40,"th"),s._uU(41,"Valores"),s.qZA(),s.YNc(42,T,4,6,"th",23),s.TgZ(43,"th",24),s._uU(44,"TOTAL"),s.qZA(),s.qZA(),s.YNc(45,O,13,11,"tbody",25),s.TgZ(46,"tfoot"),s.TgZ(47,"tr"),s.TgZ(48,"td",26),s.TgZ(49,"p",27),s._uU(50,"VALOR DO CONTRATO"),s.qZA(),s.TgZ(51,"p",28),s._uU(52,"R$1,000,000.00"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(53,"tr",21),s.TgZ(54,"th"),s._uU(55,"TOTAL"),s.qZA(),s._UZ(56,"th"),s._UZ(57,"th"),s.YNc(58,y,3,5,"th",29),s.TgZ(59,"th",24),s._uU(60,"TOTAL"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.ekj("hide",n.cronogramaLoaded),s.xp6(19),s.Q6J("ngForOf",n.projectMonths),s.xp6(23),s.Q6J("ngForOf",n.projectMonths),s.xp6(3),s.Q6J("ngForOf",n.projectCronograma),s.xp6(13),s.Q6J("ngForOf",n.sumOfMonthInYear))},directives:[h.KE,l.gD,i.sg,f.ey,_.lW,i.O5],pipes:[i.gd,i.H9],styles:[".hide[_ngcontent-%COMP%]{display:none!important}table.table[_ngcontent-%COMP%]{width:-webkit-max-content!important;width:-moz-max-content!important;width:max-content!important;min-width:100%!important} .mat-form-field-wrapper{margin:0!important;padding:0!important} .mat-form-field-appearance-outline .mat-form-field-infix{padding:.5em 0}.fontWeight700[_ngcontent-%COMP%]{font-weight:700!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0!important;border-bottom:0!important;line-height:1.2rem!important}button.btn-payment[_ngcontent-%COMP%]{border-radius:100%!important;padding:5px 11px!important;margin-right:5px!important;margin-top:-2px!important}.table-structure[_ngcontent-%COMP%]{margin-top:-50px!important}.mat-checkbox-edit[_ngcontent-%COMP%]{margin-left:5px!important}.mat-icon-button[_ngcontent-%COMP%]{height:0!important}mat-icon.visibility[_ngcontent-%COMP%]{cursor:pointer;font-size:1.2rem}"]}),t}(),M=[{path:"dashboard",component:u.M},{path:"cronograma",component:function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-list"]],decls:2,vars:0,template:function(t,n){1&t&&(s.TgZ(0,"p"),s._uU(1,"list works!"),s.qZA())},styles:[""]}),t}()},{path:"cronograma/:id",component:C},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],U=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.u5,r.UX,a.q,c.W,i.ez,e.Bz.forChild(M)],e.Bz]}),t}()}}]);